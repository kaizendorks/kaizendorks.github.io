<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Clusters and Nodes | Kaizen Dorks</title>
    <meta name="description" content="

Once you have finished installing the required components, you can easily get your local cluster up and running with the¬†minikube start¬†command, and you can use¬†minikube status¬†to confirm.
`ba ...">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="icon" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" sizes="192x192" href="/icons/favicon-192x192.png">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="theme-color" content="#ffffff">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="alternate" type="application/rss+xml" href="https://kaizendorks.github.io/rss.xml" title="Kaizen Dorks RSS Feed">
    
    <link rel="preload" href="/assets/css/0.styles.5d050517.css" as="style"><link rel="preload" href="/assets/js/app.51834fbc.js" as="script"><link rel="preload" href="/assets/js/8.247014cf.js" as="script"><link rel="preload" href="/assets/js/4.58bda7f2.js" as="script"><link rel="preload" href="/assets/js/7.efacf8bb.js" as="script"><link rel="preload" href="/assets/js/16.54c3dc31.js" as="script"><link rel="preload" href="/assets/js/12.4a26a5d9.js" as="script"><link rel="prefetch" href="/assets/js/1.df001f69.js"><link rel="prefetch" href="/assets/js/10.5f0d0529.js"><link rel="prefetch" href="/assets/js/11.0fe77024.js"><link rel="prefetch" href="/assets/js/13.06889bf8.js"><link rel="prefetch" href="/assets/js/14.65846497.js"><link rel="prefetch" href="/assets/js/15.9031139f.js"><link rel="prefetch" href="/assets/js/17.3f43ca11.js"><link rel="prefetch" href="/assets/js/18.de809f45.js"><link rel="prefetch" href="/assets/js/19.12c9dc31.js"><link rel="prefetch" href="/assets/js/20.2bf64c63.js"><link rel="prefetch" href="/assets/js/21.9ef09179.js"><link rel="prefetch" href="/assets/js/22.b80cd01c.js"><link rel="prefetch" href="/assets/js/23.820e1359.js"><link rel="prefetch" href="/assets/js/24.d71037af.js"><link rel="prefetch" href="/assets/js/25.7f52a9f1.js"><link rel="prefetch" href="/assets/js/26.8fe185d3.js"><link rel="prefetch" href="/assets/js/27.96056a33.js"><link rel="prefetch" href="/assets/js/28.8dd96cb3.js"><link rel="prefetch" href="/assets/js/29.650c5b83.js"><link rel="prefetch" href="/assets/js/30.57e121e1.js"><link rel="prefetch" href="/assets/js/31.ad56927b.js"><link rel="prefetch" href="/assets/js/32.b6abad72.js"><link rel="prefetch" href="/assets/js/33.6553d10b.js"><link rel="prefetch" href="/assets/js/34.1d5f7c94.js"><link rel="prefetch" href="/assets/js/35.251a8b5f.js"><link rel="prefetch" href="/assets/js/36.2be6f6c8.js"><link rel="prefetch" href="/assets/js/37.ea445df9.js"><link rel="prefetch" href="/assets/js/5.a1551c5c.js"><link rel="prefetch" href="/assets/js/6.bcec5d77.js"><link rel="prefetch" href="/assets/js/9.021d0380.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.5d7b866c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5d050517.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout" class="theme-container"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="logo"><a href="/"><img src="/logo_navbar.png" alt="logo"></a></div> <div class="title"><a href="/" class="nav-link home-link">Kaizen Dorks </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/projects/" class="nav-link">Projects</a></li><li class="nav-item"><a href="/tutorials/" class="nav-link router-link-active">Tutorials</a></li><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li><li class="nav-item"><a href="/members.html" class="nav-link">Members</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">Kaizen Dorks </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/projects/" class="nav-link">Projects</a></li><li class="mobile-nav-item"><a href="/tutorials/" class="nav-link router-link-active">Tutorials</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">Tags</a></li><li class="mobile-nav-item"><a href="/members.html" class="nav-link">Members</a></li> <li class="mobile-nav-item"><a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></li></ul></div></div></div> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/tutorials/" class="sidebar-link">Tutorials by Kaizen Dorks</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Kubernetes for Developers</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tutorials/kubernetes/" class="sidebar-link">Welcome</a></li><li><a href="/tutorials/kubernetes/1-clusters-nodes.html" class="active sidebar-link">1. Clusters and Nodes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tutorials/kubernetes/1-clusters-nodes.html#node-types" class="sidebar-link">Node types</a></li><li class="sidebar-sub-header"><a href="/tutorials/kubernetes/1-clusters-nodes.html#cluster-sizes" class="sidebar-link">Cluster sizes</a></li><li class="sidebar-sub-header"><a href="/tutorials/kubernetes/1-clusters-nodes.html#exploring-the-cluster-contents" class="sidebar-link">Exploring the cluster contents</a></li><li class="sidebar-sub-header"><a href="/tutorials/kubernetes/1-clusters-nodes.html#basic-cpu-and-memory-stats" class="sidebar-link">Basic CPU and Memory stats</a></li><li class="sidebar-sub-header"><a href="/tutorials/kubernetes/1-clusters-nodes.html#enabling-the-dashboard" class="sidebar-link">Enabling the dashboard</a></li></ul></li><li><a href="/tutorials/kubernetes/2-basic-kubernetes-objects.html" class="sidebar-link">2. Basic Kubernetes Objects</a></li><li><a href="/tutorials/kubernetes/3-basic-networking.html" class="sidebar-link">3. Basic Networking</a></li></ul></section></li></ul> </aside> <div class="content-wrapper page"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        
      </h1> <div class="post-meta"><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span itemprop="name">Daniel</span> <span itemprop="address"> ¬† in Dublin, Ireland</span></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2020-04-03T00:00:00.000Z">
      Fri Apr 03 2020
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-d832e844><a href="/tag/Kubernetes" data-v-d832e844> Kubernetes </a></li><li class="post-tag" data-v-d832e844><a href="/tag/tutorial" data-v-d832e844> tutorial </a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h1 id="clusters-and-nodes"><a href="#clusters-and-nodes" class="header-anchor">#</a> Clusters and Nodes</h1> <p>Once you have finished installing the required components, you can easily get your local cluster up and running with the¬†<code>minikube start</code>¬†command, and you can use¬†<code>minikube status</code>¬†to confirm.</p> <div class="language-bash extra-class"><div class="highlight-lines"><div class="highlighted">¬†</div><br><br><br><div class="highlighted">¬†</div><br><br><br><br><br><br></div><pre class="language-bash"><code>$ minikube start
<span class="token punctuation">..</span>. omitted
üèÑ  Done<span class="token operator">!</span> kubectl is now configured to use <span class="token string">&quot;minikube&quot;</span>

$ minikube status
m01
host: Running
kubelet: Running
apiserver: Running
kubeconfig: Configured
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Running online?</p> <p>You should have already gone through similar steps by completing the linked <a href="https://www.katacoda.com/courses/kubernetes/launch-single-node-cluster" target="_blank" rel="noopener noreferrer">katacoda tutorial<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This means you already have a working cluster using minikube and an shell where you can issue¬†<code>minikube</code>¬†and¬†<code>kubectl</code>¬†commands.</p></div> <h2 id="node-types"><a href="#node-types" class="header-anchor">#</a> Node types</h2> <p>By initializing <a href="https://github.com/kubernetes/minikube" target="_blank" rel="noopener noreferrer">minikube<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, you should also get <a href="https://kubernetes.io/docs/reference/kubectl/overview/" target="_blank" rel="noopener noreferrer">kubectl<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> configured in your local machine, so you can issue <code>kubectl</code> commands to your local cluster.</p> <ul><li>Let's see what the status of the cluster is:<div class="language-bash extra-class"><div class="highlight-lines"><div class="highlighted">¬†</div><br><br><br><br><br></div><pre class="language-bash"><code>$ kubectl cluster-info
Kubernetes master is running at https://192.168.64.3:8443
KubeDNS is running at https://192.168.64.3:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

To further debug and diagnose cluster problems, use <span class="token string">'kubectl cluster-info dump'</span><span class="token builtin class-name">.</span>
</code></pre></div></li> <li>Let's also list the nodes in your cluster:<div class="language-bash extra-class"><div class="highlight-lines"><div class="highlighted">¬†</div><br><br><br></div><pre class="language-bash"><code>$ kubectl get nodes
NAME       STATUS   ROLES    AGE   VERSION
minikube   Ready    master   37m   v1.18.0
</code></pre></div></li></ul> <p>Good, that means the single node cluster has correctly been configured and is working. It also confirms <code>kubectl</code> is correctly configured to interact with that cluster.</p> <p>Let‚Äôs pause for a moment. What do we mean by <strong>cluster</strong>? And by <strong>node</strong>?</p> <p>Kubernetes clusters are formed by a number of nodes that typically have the role of either <strong>master</strong> or <strong>workers</strong>:</p> <ul><li>The workers are the nodes where applications are deployed. This is where the docker containers that form your application actually run.</li> <li>While the masters are the nodes you tell what you want to deploy and ensure it actually gets deployed across the workers. While a <a href="https://kubernetes.io/docs/concepts/overview/components/" target="_blank" rel="noopener noreferrer">number of components<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> make this possible, during the tutorial we will consider each master as a single black box.</li></ul> <h2 id="cluster-sizes"><a href="#cluster-sizes" class="header-anchor">#</a> Cluster sizes</h2> <p>Typically, a cluster will have multiple nodes of each type, each of them being an independent machine. This makes your cluster resilient to a number of faults, increasing its <em>availability</em>.</p> <ul><li>Quite often, these will be VMs (Virtual Machines) provided by services such as AWS, Azure or Google Cloud.</li> <li>It is also common to use one of the <em>Kubernetes as a service</em> offerings such as <a href="https://aws.amazon.com/eks/" target="_blank" rel="noopener noreferrer">Amazon's EKS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, <a href="https://azure.microsoft.com/en-us/services/kubernetes-service/" target="_blank" rel="noopener noreferrer">Azure's AKS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or <a href="https://cloud.google.com/kubernetes-engine" target="_blank" rel="noopener noreferrer">Google's GKE<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. These remove some of the heavy lifting involved in setting up the cluster, letting you pick how many machines you need and of which type.</li></ul> <p><img src="/assets/img/typical-cluster.5ce3daf2.png" alt="Typical cluster"></p> <p>How does this apply to what we have done so far?</p> <p>Since we are using <code>minikube</code>, our cluster is made of a single node that performs all the work by itself, acting with both roles of <strong>master</strong> and <strong>worker</strong>. This node is a virtual machine (VM) running in your laptop, which according to the <code>cluster-info</code> output above is located at the local IP <code>192.168.64.3</code></p> <p><img src="/assets/img/minikube-cluster.d0c76028.png" alt="Minikube cluster"></p> <h2 id="exploring-the-cluster-contents"><a href="#exploring-the-cluster-contents" class="header-anchor">#</a> Exploring the cluster contents</h2> <p>Let's continue this section by exploring the contents of our <em>empty cluster</em> (you will see is not so empty) while getting used to some of the <code>kubectl</code> and <code>minikube</code> commands.</p> <p>First, let's see what applications or services are currently deployed in the cluster by inspecting its current <strong>Pods</strong>.
For this we will use the <code>kubectl get</code> command, which lets you list objects of a given type.</p> <div class="custom-block tip"><p>Don't worry for now about the concept of <code>Pod</code> or the <code>--all-namespace</code> argument. We will explore these in the <a href="/tutorials/kubernetes/2-basic-kubernetes-objects.html">next module</a>!</p></div> <div class="language-bash extra-class"><div class="highlight-lines"><div class="highlighted">¬†</div><br><br><br><br><br><br><br><br><br><br></div><pre class="language-bash"><code>$ kubectl get pod --all-namespaces
NAMESPACE     NAME                               READY   STATUS    RESTARTS   AGE
kube-system   coredns-66bff467f8-6khs7           <span class="token number">1</span>/1     Running   <span class="token number">0</span>          53m
kube-system   coredns-66bff467f8-w8x67           <span class="token number">1</span>/1     Running   <span class="token number">0</span>          53m
kube-system   etcd-minikube                      <span class="token number">1</span>/1     Running   <span class="token number">0</span>          53m
kube-system   kube-apiserver-minikube            <span class="token number">1</span>/1     Running   <span class="token number">0</span>          53m
kube-system   kube-controller-manager-minikube   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          53m
kube-system   kube-proxy-m7mrz                   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          53m
kube-system   kube-scheduler-minikube            <span class="token number">1</span>/1     Running   <span class="token number">0</span>          53m
kube-system   storage-provisioner                <span class="token number">1</span>/1     Running   <span class="token number">0</span>          53m
</code></pre></div><p>Not so empty indeed! Every cluster needs to host several services so Kubernetes can do its work, which is to host your application and services and to expose them so you and other applications/services can interact with them.</p> <h2 id="basic-cpu-and-memory-stats"><a href="#basic-cpu-and-memory-stats" class="header-anchor">#</a> Basic CPU and Memory stats</h2> <p>Next, let's take a look at how well is our cluster performing by checking some basic CPU and Memory stats using the <code>kubectl top</code> command.
Before we can do so, you will need to enable an <a href="https://minikube.sigs.k8s.io/docs/tasks/addons/" target="_blank" rel="noopener noreferrer">add-on<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for minikube so these metrics are available in your local learning environment.</p> <p>We can use the <code>minikube addons</code> to both see the list of all possible addons and to enable/disable them.</p> <div class="language-bash extra-class"><div class="highlight-lines"><div class="highlighted">¬†</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-bash"><code>$ minikube addons list
<span class="token operator">|</span>-----------------------------<span class="token operator">|</span>----------<span class="token operator">|</span>--------------<span class="token operator">|</span>
<span class="token operator">|</span>         ADDON NAME          <span class="token operator">|</span> PROFILE  <span class="token operator">|</span>    STATUS    <span class="token operator">|</span>
<span class="token operator">|</span>-----------------------------<span class="token operator">|</span>----------<span class="token operator">|</span>--------------<span class="token operator">|</span>
<span class="token operator">|</span> dashboard                   <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> default-storageclass        <span class="token operator">|</span> minikube <span class="token operator">|</span> enabled ‚úÖ   <span class="token operator">|</span>
<span class="token operator">|</span> efk                         <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> freshpod                    <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> gvisor                      <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> helm-tiller                 <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> ingress                     <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> ingress-dns                 <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> istio                       <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> istio-provisioner           <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> logviewer                   <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> metrics-server              <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> nvidia-driver-installer     <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> nvidia-gpu-device-plugin    <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> registry                    <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> registry-aliases            <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> registry-creds              <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span> storage-provisioner         <span class="token operator">|</span> minikube <span class="token operator">|</span> enabled ‚úÖ   <span class="token operator">|</span>
<span class="token operator">|</span> storage-provisioner-gluster <span class="token operator">|</span> minikube <span class="token operator">|</span> disabled     <span class="token operator">|</span>
<span class="token operator">|</span>-----------------------------<span class="token operator">|</span>----------<span class="token operator">|</span>--------------<span class="token operator">|</span>
</code></pre></div><p>We will enable the <strong>metrics-server</strong> addon. It enables a ligthweight in-memory service (called <a href="https://kubernetes.io/docs/tasks/debug-application-cluster/resource-usage-monitoring/#resource-metrics-pipeline" target="_blank" rel="noopener noreferrer">metrics-server<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) that collects the CPU and memory stats:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ minikube addons <span class="token builtin class-name">enable</span> metrics-server
</code></pre></div><p>Once enabled, we can see the CPU/memory stats grouped by node (remember in minikube there is a single node). For this we can use the <code>kubectl top</code> command</p> <div class="language-bash extra-class"><div class="highlight-lines"><div class="highlighted">¬†</div><br><br><br></div><pre class="language-bash"><code>$ kubectl <span class="token function">top</span> node
NAME       CPU<span class="token punctuation">(</span>cores<span class="token punctuation">)</span>   CPU%   MEMORY<span class="token punctuation">(</span>bytes<span class="token punctuation">)</span>   MEMORY%
minikube   218m         <span class="token number">10</span>%    1185Mi          <span class="token number">31</span>%
</code></pre></div><div class="custom-block warning"><p>Note the metrics server might take a while to initialize! You will see the output <code>error: metrics not available yet</code> if it's still initializing</p></div> <p>The same command to see the stats breakdown by Pod</p> <div class="language-bash extra-class"><div class="highlight-lines"><div class="highlighted">¬†</div><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-bash"><code>$ kubectl <span class="token function">top</span> pod --all-namespaces
NAMESPACE              NAME                                         CPU<span class="token punctuation">(</span>cores<span class="token punctuation">)</span>   MEMORY<span class="token punctuation">(</span>bytes<span class="token punctuation">)</span>
kube-system            coredns-66bff467f8-6khs7                     2m           6Mi
kube-system            coredns-66bff467f8-w8x67                     1m           6Mi
kube-system            etcd-minikube                                24m          38Mi
kube-system            kube-apiserver-minikube                      44m          256Mi
kube-system            kube-controller-manager-minikube             11m          36Mi
kube-system            kube-proxy-m7mrz                             0m           8Mi
kube-system            kube-scheduler-minikube                      2m           9Mi
kube-system            metrics-server-7bc6d75975-pwldm              0m           10Mi
kube-system            storage-provisioner                          0m           14Mi
</code></pre></div><div class="custom-block tip"><p>Now that you have seen a couple of kubectl commands <code>kubectl get</code> and <code>kubectl top</code>, you might have noticed a similar pattern used for both commands.</p> <p>Kubectl offers a consistent API where the same command (ie, <code>kubectl top</code>) can be used with different object types (ie, <code>pod</code> and <code>node</code>). As you continue through the tutorial and get familiar with other kubectl commands, you will appreciate the consistency this brings! It really makes easier to get comfortable with using the <code>kubectl</code> CLI.</p></div> <p>We have seen the easiest and most basic way to get the CPU and memory stats, which is great. But what do these figures <em>actually mean</em>?</p> <ul><li>The easiest one is the memory. Since it says (bytes) in the output, you might have correctly guessed 6Mi equals 6 mega bytes</li> <li>What about CPU then? It us measured in <em>milli cores</em>, meaning a 1000th of a single core of a CPU. So 2m equals 2 milli cores, or a 2/1000 of one of your CPU cores. See the <a href="https://kubernetes.io/docs/tasks/configure-pod-container/assign-cpu-resource/#cpu-units" target="_blank" rel="noopener noreferrer">official docs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li></ul> <h2 id="enabling-the-dashboard"><a href="#enabling-the-dashboard" class="header-anchor">#</a> Enabling the dashboard</h2> <p>We will finish this first section by enabling the <a href="https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/" target="_blank" rel="noopener noreferrer">Kubernetes Dashboard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> in our minikube cluster. This will be a very helpful tool while learning and experimenting since it will let you explore and interact with your cluster from your browser.</p> <p>Enable it with the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ minikube addons <span class="token builtin class-name">enable</span> dashboard
</code></pre></div><p>The command will deploy the necessary Kubernetes objects to host the dashboard application. You will for example see new Pods if you run again the <code>kubectl get pods --all-namespaces</code> command.</p> <p>Then open a second terminal and run</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ minikube dashboard
</code></pre></div><p>A new browser tab will open with the dashboard! You can now inspect the cluster in the dashboard:
<img src="/assets/img/kubernetes-dashboard.7748ab40.png" alt="Kubernetes dashboard"></p> <p>For example, find all the those <code>Pods</code> listed with the previous <code>kubectl get</code> command by:</p> <ol><li>Select the <strong>kube-system</strong> namespace in the dropdown available on the sidebar</li> <li>Then select the Pods item of the sidebar.</li></ol> <p>The output should display the same containers you saw in your command line:
<img src="/assets/img/dashboard-pods.38b7db02.png" alt="The kube-system pods in the dashboard"></p> <p>And this concludes the initial module of the tutorial.
Feel free to explore further the dashboard, for example accessing the logs of one of those <code>Pods</code>, or viewing their properties. While it might not make complete sense, you will be able to connect the dots faster in the next module as we take a deeper look at basic objects such as <code>Pod</code> or <code>Namespace</code>.</p> <a href="/tutorials/kubernetes/" class="tutorial-cta-link router-link-active" data-v-231230e8>
  Prev module
</a> <a href="/tutorials/kubernetes/2-basic-kubernetes-objects" class="tutorial-cta-link" data-v-231230e8>
  Next module
</a></div> <footer><!----> <hr> <!----> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#node-types" title="Node types">Node types</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#cluster-sizes" title="Cluster sizes">Cluster sizes</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#exploring-the-cluster-contents" title="Exploring the cluster contents">Exploring the cluster contents</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#basic-cpu-and-memory-stats" title="Basic CPU and Memory stats">Basic CPU and Memory stats</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#enabling-the-dashboard" title="Enabling the dashboard">Enabling the dashboard</a></div></div></div></div> <footer class="footer" data-v-fdbf4940><div class="footer-left-wrap" data-v-fdbf4940><ul class="contact" data-v-fdbf4940><li class="contact-item" data-v-fdbf4940><a href="https://github.com/kaizendorks" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-fdbf4940><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-fdbf4940></path></svg>
          
        </a></li><li class="contact-item" data-v-fdbf4940><a href="https://www.npmjs.com/~kaizendorks" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-codepen" data-v-fdbf4940><polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2" data-v-fdbf4940></polygon><line x1="12" y1="22" x2="12" y2="15.5" data-v-fdbf4940></line><polyline points="22 8.5 12 15.5 2 8.5" data-v-fdbf4940></polyline><polyline points="2 15.5 12 8.5 22 15.5" data-v-fdbf4940></polyline><line x1="12" y1="2" x2="12" y2="8.5" data-v-fdbf4940></line></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-fdbf4940><ul class="copyright" data-v-fdbf4940><li class="copyright-item" data-v-fdbf4940><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940>Privacy Policy</a></li><li class="copyright-item" data-v-fdbf4940><a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940>CC BY 4.0 License</a></li><li class="copyright-item" data-v-fdbf4940><a href="/tutorials/kubernetes/.html" class="nav-link" data-v-fdbf4940>Copyright ¬© 2020-present Kaizen Dorks</a></li></ul></div></footer></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.51834fbc.js" defer></script><script src="/assets/js/8.247014cf.js" defer></script><script src="/assets/js/4.58bda7f2.js" defer></script><script src="/assets/js/7.efacf8bb.js" defer></script><script src="/assets/js/16.54c3dc31.js" defer></script><script src="/assets/js/12.4a26a5d9.js" defer></script>
  </body>
</html>
